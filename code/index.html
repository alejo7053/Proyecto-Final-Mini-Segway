<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Proyecto Final Mini Segway /Codigo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="../stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="../stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="../stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Proyecto Final Mini Segway /Codigo</h1>
      <h2 class="project-tagline"></h2>
	  <a href="http://alejo7053.github.io/Proyecto-Final-Mini-Segway/" class="btn">Inicio</a>
	  <a href="http://alejo7053.github.io/Proyecto-Final-Mini-Segway/segway" class="btn">Segway</a>
	  <a href="http://alejo7053.github.io/Proyecto-Final-Mini-Segway/code" class="btn">Codigo</a>
	  <a href="http://alejo7053.github.io/Proyecto-Final-Mini-Segway/montaje" class="btn">Montaje</a>
	  <br>
      <a href="https://github.com/alejo7053/Proyecto-Final-Mini-Segway" class="btn">Ver en GitHub</a>
      <a href="https://github.com/alejo7053/Proyecto-Final-Mini-Segway/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/alejo7053/Proyecto-Final-Mini-Segway/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h2>
<a id="codigo" class="anchor" href="#codigo" aria-hidden="true"><span class="octicon octicon-link"></span></a>Lectura del sensor</h2>

<p>Este codigo se encuentra en el repositorio <a href="https://github.com/alejo7053/Proyecto-Final-Mini-Segway/blob/master/lectura_sensor/lectura_sensor.ino">(click aqui)</a>, corresponde a la forma en que se leen los datos del giroscopio, en este caso utilizamos el giroscopio del eje Y, asi que se accede a los registros del MPU por medio de la libreria <code>&lt;wire.h&gt;</code> la cual permite la comunicación entre el Arduino y un dispositivo que posea comunicación I2C. En las tarjetas Arduino se tienen los pines SDA (linea de datos) y SCL (linea de reloj); estos pines se conectan directamente a los mismos pines del MPU6050 para realizar la comunicación entre el sensor y el arduino.</p>
<p>Se definen dos macros <code>#define MPU 0x68, #define GYRO_CONFIG 0x1B</code>, se guarda la dirección de I2C del MPU y la dirección del registro de configuración del giroscopio respectivamente.</p>
<p><code>Wire.beginTransmission(MPU);
<br>
 Wire.write(GYRO_CONFIG);
<br>
 Wire.write(3<<3);
<br>
 Wire.endTransmission(true);</code></p>

<p>Con estas lineas de codigo las cuales se implementan en <code>void setup()</code>, se modifica el registro de configuración del giroscopio y se selecciona el rango total de las salidas del giroscopio, seleccinando &#177; 2000 °/s</p>

<p><code>Wire.write(0x45);<br>
Wire.endTransmission(false);<br>
Wire.requestFrom(MPU,2,true);<br>
GY=Wire.read()<<8|Wire.read();</code></p>

<p>Implementando este codigo en <code>void loop()</code> se realiza la lectura del valor en Y del giroscopio, el giroscopio transmite el valor en 2 partes de 8 bits cada una, iniciando en la direccion <code>0x45</code> y la siguiente, después de leer estas dos direcciones se suman los bits y se guardan en la variable <code>int16_t GY</code>.</p>

<h3>
<a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Designer Templates</h3>

<p>We’ve crafted some handsome templates for you to use. Go ahead and click 'Continue to layouts' to browse through them. You can easily go back to edit your page before publishing. After publishing your page, you can revisit the page generator and switch to another theme. Your Page content will be preserved.</p>

<h3>
<a id="creating-pages-manually" class="anchor" href="#creating-pages-manually" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating pages manually</h3>

<p>If you prefer to not use the automatic generator, push a branch named <code>gh-pages</code> to your repository to create a page manually. In addition to supporting regular HTML content, GitHub Pages support Jekyll, a simple, blog aware static site generator. Jekyll makes it easy to create site-wide headers and footers without having to copy them across every page. It also offers intelligent blog support and other advanced templating features.</p>

<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p>You can <a href="https://github.com/blog/821" class="user-mention">@mention</a> a GitHub username to generate a link to their profile. The resulting <code>&lt;a&gt;</code> element will link to the contributor’s GitHub Profile. For example: In 2007, Chris Wanstrath (<a href="https://github.com/defunkt" class="user-mention">@defunkt</a>), PJ Hyett (<a href="https://github.com/pjhyett" class="user-mention">@pjhyett</a>), and Tom Preston-Werner (<a href="https://github.com/mojombo" class="user-mention">@mojombo</a>) founded GitHub.</p>

<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with Pages? Check out our <a href="https://help.github.com/pages">documentation</a> or <a href="https://github.com/contact">contact support</a> and we’ll help you sort it out.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/alejo7053/Proyecto-Final-Mini-Segway">Proyecto Final Mini Segway</a> is maintained by <a href="https://github.com/alejo7053">alejo7053</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
